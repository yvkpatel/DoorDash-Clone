{"ast":null,"code":"var _jsxFileName = \"/Users/yash/DoorDash-Clone/gui-module/src/components/general/signup/RegisterRes.js\",\n    _s = $RefreshSig$();\n\n/**\n * This is the page for Restaurant owners to signup to YUMI\n */\nimport { React, useState } from \"react\";\nimport \"./RegisterRes.css\";\nimport GenHeader from \"../../GenHeader.js\";\nimport RSignupForm from \"./RSignupForm\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RegisterRes = () => {\n  _s();\n\n  const history = useHistory(); //temperary used for MVP since DB connection not working\n\n  const [tempAdded, setTempAdded] = useState(false);\n  const [addedRestaurant, setAddedRestaurant] = useState(\"\");\n\n  const submitRes = userDetails => {\n    var obj = new Object();\n    obj.username = userDetails.email;\n    obj.passHash = userDetails.password;\n    obj.name = userDetails.name;\n    obj.category = \"default\";\n    obj.openHour = \"4:20\";\n    obj.closeHour = \"1:23\";\n    obj.address = userDetails.address;\n    obj.postal = userDetails.postal;\n    fetchAddRestaurant(obj);\n  }; //Calls database to add the user\n  //TODO: CURRENTLY NOT WORKING. ADDS USER BUT RETURNS REPLY FALSE ALWAYS - ASSUME TRUE FOR ALL CALLS FOR MVP\n\n\n  const fetchAddRestaurant = obj => {\n    const reqPar = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(obj)\n    };\n    fetch(\"/restaurant/add\", reqPar).then(res => res.json()).then(data => setAddedRestaurant(data), alert(\"account created\"), history.push(\"/\")).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(GenHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RSignupForm, {\n      onSignup: submitRes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RegisterRes, \"WJNDbLiShWvyYvs7P4ylSEpKT0I=\", false, function () {\n  return [useHistory];\n});\n\n_c = RegisterRes;\nexport default RegisterRes;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterRes\");","map":{"version":3,"sources":["/Users/yash/DoorDash-Clone/gui-module/src/components/general/signup/RegisterRes.js"],"names":["React","useState","GenHeader","RSignupForm","useHistory","RegisterRes","history","tempAdded","setTempAdded","addedRestaurant","setAddedRestaurant","submitRes","userDetails","obj","Object","username","email","passHash","password","name","category","openHour","closeHour","address","postal","fetchAddRestaurant","reqPar","method","headers","body","JSON","stringify","fetch","then","res","json","data","alert","push","catch","err","console","log"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,KAAT,EAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,mBAAP;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAMC,OAAO,GAAGF,UAAU,EAA1B,CADwB,CAExB;;AACA,QAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACQ,eAAD,EAAkBC,kBAAlB,IAAwCT,QAAQ,CAAC,EAAD,CAAtD;;AAEA,QAAMU,SAAS,GAAIC,WAAD,IAAiB;AACjC,QAAIC,GAAG,GAAG,IAAIC,MAAJ,EAAV;AACAD,IAAAA,GAAG,CAACE,QAAJ,GAAeH,WAAW,CAACI,KAA3B;AACAH,IAAAA,GAAG,CAACI,QAAJ,GAAeL,WAAW,CAACM,QAA3B;AACAL,IAAAA,GAAG,CAACM,IAAJ,GAAWP,WAAW,CAACO,IAAvB;AACAN,IAAAA,GAAG,CAACO,QAAJ,GAAe,SAAf;AACAP,IAAAA,GAAG,CAACQ,QAAJ,GAAe,MAAf;AACAR,IAAAA,GAAG,CAACS,SAAJ,GAAgB,MAAhB;AACAT,IAAAA,GAAG,CAACU,OAAJ,GAAcX,WAAW,CAACW,OAA1B;AACAV,IAAAA,GAAG,CAACW,MAAJ,GAAaZ,WAAW,CAACY,MAAzB;AAEAC,IAAAA,kBAAkB,CAACZ,GAAD,CAAlB;AACD,GAZD,CANwB,CAoBxB;AACA;;;AACA,QAAMY,kBAAkB,GAAIZ,GAAD,IAAS;AAClC,UAAMa,MAAM,GAAG;AACbC,MAAAA,MAAM,EAAE,MADK;AAEbC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFI;AAGbC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAelB,GAAf;AAHO,KAAf;AAKAmB,IAAAA,KAAK,CAAC,iBAAD,EAAoBN,MAApB,CAAL,CACGO,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAGKG,IAAD,IAAU1B,kBAAkB,CAAC0B,IAAD,CAHhC,EAIIC,KAAK,CAAC,iBAAD,CAJT,EAKI/B,OAAO,CAACgC,IAAR,CAAa,GAAb,CALJ,EAOGC,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;AAQD,GAdD;;AAeA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,WAAD;AAAa,MAAA,QAAQ,EAAE7B;AAAvB;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CA3CD;;GAAMN,W;UACYD,U;;;KADZC,W;AA6CN,eAAeA,WAAf","sourcesContent":["/**\n * This is the page for Restaurant owners to signup to YUMI\n */\nimport { React, useState } from \"react\";\nimport \"./RegisterRes.css\";\nimport GenHeader from \"../../GenHeader.js\";\nimport RSignupForm from \"./RSignupForm\";\nimport { useHistory } from \"react-router-dom\";\n\nconst RegisterRes = () => {\n  const history = useHistory();\n  //temperary used for MVP since DB connection not working\n  const [tempAdded, setTempAdded] = useState(false);\n  const [addedRestaurant, setAddedRestaurant] = useState(\"\");\n\n  const submitRes = (userDetails) => {\n    var obj = new Object();\n    obj.username = userDetails.email;\n    obj.passHash = userDetails.password;\n    obj.name = userDetails.name;\n    obj.category = \"default\";\n    obj.openHour = \"4:20\";\n    obj.closeHour = \"1:23\";\n    obj.address = userDetails.address;\n    obj.postal = userDetails.postal;\n\n    fetchAddRestaurant(obj);\n  };\n\n  //Calls database to add the user\n  //TODO: CURRENTLY NOT WORKING. ADDS USER BUT RETURNS REPLY FALSE ALWAYS - ASSUME TRUE FOR ALL CALLS FOR MVP\n  const fetchAddRestaurant = (obj) => {\n    const reqPar = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(obj),\n    };\n    fetch(\"/restaurant/add\", reqPar)\n      .then((res) => res.json())\n      .then(\n        (data) => setAddedRestaurant(data),\n        alert(\"account created\"),\n        history.push(\"/\")\n      )\n      .catch((err) => console.log(err));\n  };\n  return (\n    <div className=\"App\">\n      <GenHeader></GenHeader>\n      <RSignupForm onSignup={submitRes}></RSignupForm>\n    </div>\n  );\n};\n\nexport default RegisterRes;\n"]},"metadata":{},"sourceType":"module"}